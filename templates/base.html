<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{% block title %}SymptomPredict — AI Disease Prediction System{% endblock %}</title>
  <meta name="description"
    content="AI-powered symptoms based disease prediction system. Get instant insights and consult a doctor." />

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet" />
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
    rel="stylesheet" />
  <!-- Custom CSS -->
  <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet" />

  {% block extra_head %}{% endblock %}
</head>

<body>

  <!-- ── Navbar ─────────────────────────────────────────────────────────────── -->
  <nav class="navbar navbar-expand-lg navbar-light sticky-top" id="mainNav">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center gap-2" href="{{ url_for('home') }}">
        <div class="brand-icon">
          <i class="bi bi-heart-pulse-fill"></i>
        </div>
        <span class="brand-name text-wrap" style="max-width: 200px; font-size: 1rem; line-height: 1.2;">Symptoms Based
          Disease Prediction System</span>
      </a>

      <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto align-items-center gap-1">
          <li class="nav-item">
            <a class="nav-link {% if request.endpoint == 'home' %}active{% endif %}" href="{{ url_for('home') }}">
              <i class="bi bi-house me-1"></i>Home
            </a>
          </li>

          {% if session.get('user_id') %}
          <li class="nav-item">
            <a class="nav-link {% if request.endpoint == 'predict' %}active{% endif %}" href="{{ url_for('predict') }}">
              <i class="bi bi-search-heart me-1"></i>Predict
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link {% if request.endpoint == 'dashboard' %}active{% endif %}"
              href="{{ url_for('dashboard') }}">
              <i class="bi bi-grid-1x2 me-1"></i>Dashboard
            </a>
          </li>
          <li class="nav-item ms-2">
            <div class="dropdown">
              <button class="btn btn-outline-primary btn-sm dropdown-toggle d-flex align-items-center gap-2"
                type="button" data-bs-toggle="dropdown">
                <div class="avatar-sm">{{ session.get('user_name', 'U')[0].upper() }}</div>
                {{ session.get('user_name', 'User').split()[0] }}
              </button>
              <ul class="dropdown-menu dropdown-menu-end shadow-sm">
                <li><a class="dropdown-item" href="{{ url_for('dashboard') }}"><i class="bi bi-person me-2"></i>My
                    Dashboard</a></li>
                <li>
                  <hr class="dropdown-divider">
                </li>
                <li><a class="dropdown-item text-danger" href="{{ url_for('logout') }}"><i
                      class="bi bi-box-arrow-right me-2"></i>Logout</a></li>
              </ul>
            </div>
          </li>
          {% else %}
          <li class="nav-item">
            <a class="nav-link" href="{{ url_for('login') }}">Login</a>
          </li>
          <li class="nav-item ms-2">
            <a class="btn btn-primary btn-sm px-3" href="{{ url_for('register') }}">
              <i class="bi bi-person-plus me-1"></i>Register
            </a>
          </li>
          {% endif %}
        </ul>
      </div>
    </div>
  </nav>

  <!-- ── Flash Messages ─────────────────────────────────────────────────────── -->
  {% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
  <div class="container mt-3">
    {% for category, message in messages %}
    <div class="alert alert-{{ category }} alert-dismissible fade show shadow-sm" role="alert">
      <i
        class="bi bi-{% if category == 'success' %}check-circle{% elif category == 'danger' %}exclamation-triangle{% elif category == 'warning' %}exclamation-circle{% else %}info-circle{% endif %} me-2"></i>
      {{ message }}
      <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>
    {% endfor %}
  </div>
  {% endif %}
  {% endwith %}

  <!-- ── Main Content ───────────────────────────────────────────────────────── -->
  <main>
    {% block content %}{% endblock %}
  </main>

  <!-- ── Footer ─────────────────────────────────────────────────────────────── -->
  <footer class="footer mt-auto">
    <div class="container">
      <div class="row align-items-center py-4">
        <div class="col-md-6">
          <div class="d-flex align-items-center gap-2 mb-1">
            <i class="bi bi-heart-pulse-fill text-primary"></i>
            <span class="fw-semibold text-dark">Symptoms Based Disease Prediction System</span>
          </div>
          <p class="text-muted small mb-0"><strong>Group No: 13</strong></p>
          <p class="text-muted small mb-0">Abhay Chaturvedi (MCCA25O1001)</p>
          <p class="text-muted small mb-0">Aman Karosiya (MCCA25O1011)</p>
        </div>
        <div class="col-md-6 text-md-end mt-3 mt-md-0">
          <p class="text-muted small mb-0">
            <i class="bi bi-shield-exclamation text-warning me-1"></i>
            Development of Symptoms Based Disease Prediction System.
          </p>
          <p class="text-muted small mb-0">© 2025 Prediction System. College Project Demo.</p>
        </div>
      </div>
    </div>
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <!-- Custom JS -->
  <script src="{{ url_for('static', filename='js/main.js') }}"></script>
  {% block extra_scripts %}{% endblock %}
</body>

</html>